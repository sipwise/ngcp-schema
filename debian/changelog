ngcp-schema (4.1.1.0+0~mr4.1.1.0) unstable; urgency=medium

  [ Rene Krenn ]
  * [ac57c03] MT#12999 render_schema.pl tool
  * [2663280] MT#13903 fix invoices-balances relationship
  * [83e94b3] MT#13903 package_id and relationships for vouchers
  * [76a9604] MT#13903 model update - 'topup_interval' mode
  * [048c7bc] MT#14301 remove prof package 'status' field
  * [8295f2b] MT#14255 add balance underrun detection ts columns
  * [33142b4] MT#15367 rateomat updates CDRs with zones_history.id, not .bz_id
  * [09a386f] MT#15477 topup_log resultset

  [ Kirill Solomko ]
  * [0aff34d] MT#12707 - add malicious_calls schema
  * [35cafa1] MT#12707 - malicious_calls: add source field

  [ Irina Peshinskaya ]
  * [4ec4080] MT#14477 Link provisioning.voip_subscribers to kamailio.subscriber

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 12 Oct 2015 15:40:27 +0200

ngcp-schema (4.1.0.0+0~mr4.1.0.0) unstable; urgency=low

  * New release.

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 13 Jul 2015 15:26:36 +0200

ngcp-schema (4.0.0.0+0~mr4.0.0.0) unstable; urgency=medium

  [ Rene Krenn ]
  * [55180f5] MT#11917 Align journal to db schema
  * [046f2d8] MT#12643 billing networks

  [ Andreas Granig ]
  * [2afdeee] MT#12385 Add reseller_id to EDR head.
  * [2df7fc0] MT#13201 Add billing_data acl to admins

  [ Irina Peshinskaya ]
  * [8ac49c0] MT#11791 Increase costs precisions to 6 number after point
  * [3a804ff] MT#7227 Temporary location for not unique billing_fees
  * [7edb284] MT#13369 Extend enum for lineranges positions
  * [2082b7c] MT#13531 create link to email_templates for resellers

  [ Kirill Solomko ]
  * [d69debe] MT#11225 - add billing_profiles.fraud_use_reseller_rates

 -- Alexander Lutay <alutay@sipwise.com>  Mon, 13 Jul 2015 14:26:11 +0200

ngcp-schema (3.7.0.0+0~mr4.0.0.0) unstable; urgency=low

  [ Kirill Solomko ]
  * [f84a0ea] MT#10169 - add voip_peer_hosts.enabled, voip_peer_rules.enabled, voip_rewrite_rules.enabled

  [ Andreas Granig ]
  * [f6c844d] MT#10883 Fix dependecies for Build.PL
  * [67989fa] MT#10885 Prevent foreign key deletion by schema.
  * [2e381bb] MT#10879 Set uuid as mailbox user if no number.

  [ Irina Peshinskaya ]
  * [232a856] MT#11147 Schema for device model and extension reference
  * [00fd2b3] MT#11147 Changes for device model-extension reference
  * [e9588a9] MT#11147 Rename extension type basic to phone
  * [37778fb] MT#11147 Add num extensions
  * [fe69f9a] MT#11147 Fix extensions_num field name
  * [b4e58a7] MT#11549 Use view with alias group_concat to search by aliases
  * [1fb4179] MT#11147 Fix copy-pasted relationship
  * [96356de] MT#11549 Use view with alias group_concat to search by aliases
  * [cefcb12] MT#11147 Link phone to the some extensions of the same model
  * [368eb45] MT#11549 View is too slowly, use other sql variant, so remove view

  [ Michael Prokop ]
  * [e457058] MT#9127 Bump Standards-Version to 3.9.6

  [ Rene Krenn ]
  * [347ff4d] MT#11917 Add journaling table

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 18 Mar 2015 14:09:34 +0100

ngcp-schema (3.6.0.0+0~mr3.8.0.0) unstable; urgency=low

  [ Irina Peshinskaya ]
  * [ceea3ff] MT#9177 Version of separate table per sync model.
  * [722fd5e] MT#9177 Schema for provisioning with centralized table. Draft.
  * [1e7fd6c] MT#9177 Fix comments for sync tables.
  * [f61fde4] MT#9177 Clear off table from specific tables schema.
  * [83f8e08] MT#9177 More generic sync_type and don't use vendor as sync_type marker.
  * [ed6b6df] MT#9177 Fix for the centralized parameters table
  * [ec08618] MT#9177 Fix incomplete commit with centralised parameter table
  * [9701821] MT#9177 Rename sync_type to bootstrap_method
  * [7959d2b] MT#9177 Add bootstrap_method into device.
  * [5befb25] MT#9177 Move vendor credentials to db
  * [6b19d8e] MT#9177 Fix vendors enum for contract credentials.
  * [17c40c1] MT#9177 Add bootstrap_uri and fix tables relations
  * [641cbfb] MT#9177 Change linksys to yealink in enums
  * [5b8a539] MT#10715 Ngcp schema changes for Polycom bootstrap

  [ Andreas Granig ]
  * [83ed0fe] MT#9177 Rework autoprov vendor credentials.
  * [5879605] MT#10199 Add subscriber profile preferences.
  * [a09d9aa] MT#10199 Add subscriber profile preferences.
  * [7a23695] MT#10587 Add autoprov_field_devices.encryption_key

  [ Kirill Solomko ]
  * [b712efc] MT#8645 - add billing_profiles status, create_timestamp,           modify_timestamp, terminate_timestamp           add billing_mappings contract_active "belongs_to" relation

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Wed, 07 Jan 2015 21:34:31 +0100

ngcp-schema (3.5.0.0+0~mr3.7.0.0) unstable; urgency=low

  [ Andreas Granig ]
  * [5bdcf01] MT#9565 Expose cdr src/dst gpp params

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 30 Oct 2014 17:26:33 +0100

ngcp-schema (3.4.0.0+0~mr3.6.0.0) unstable; urgency=low

  [ Irka ]
  * [1af2e8b] MT#5879 Clean up code and db from invoice templates activity flag
  * [b544305] MT#8433 Don't clear contract_balances on invoice deletion.
  * [d70a8d3] MT#8371 Optimize select actual billing_mappings with virtual view

  [ Andreas Granig ]
  * [a95679e] MT#8299 Add pbx device model annotations
  * [030117e] MT#8613 Update voip_intercept schema
  * [81085d3] MT#9277 Add voucher schema.
  * [2cc146f] MT#9277 Fix billing voucher schema.

  [ Michael Prokop ]
  * [c716ff2] MT#7335 Get rid of (build-)dependency on pdl package

  [ Gerhard Jungwirth ]
  * [9564862] MT#8397 Remove dependency MooseX::FileAttribute

  [ Kirill Solomko ]
  * [24fb9b5] MT#8547 - Remove smartmatch usage

  [ Victor Seva ]
  * [4a98f83] MT#7505 Add .gitreview file
  * [ab489ca] Revert "MT#7505 Add .gitreview file"
  * [0e62d94] MT#7505 Add .gitreview file
  * [ddfaf8c] MT#8125 postinst/postrm do not reload if not mgmt

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 09 Oct 2014 16:46:27 +0200

ngcp-schema (3.3.0.0+0~mr3.5.0.0) unstable; urgency=low

  [ Andreas Granig ]
  * [5203c51] MT#7199 add iban and bic fields.
  * [a860b52] MT#5879 Fix reseller relation for invoice tmpl
  * [3f1ff59] MT#5879 Add VAT number to contacts.
  * [9a255c4] MT#5879 Cleanup invoice tables and add gpp contact
  * [0167baa] MT#7377 Add is_pbx_pilot to prov subscriber
  * [85049c3] MT#5879 Rework invoice-relevant tables.
  * [0f7460d] MT#7471 Add contract preferences schema.
  * [9b66a2d] MT#6827 Fix pbx device profile relation.
  * [e0ca5cf] MT#7679 Add random and circular hunt policies.
  * [3daadc6] MT#7545 Allow multiple pbx groups per subscriber
  * [917ce48] MT#7793 Add accounting.events schema.

  [ Irina Peshinskaya ]
  * [20887f5] MT#5789 Add invoice email template relationship into contracts.
  * [f5fca08] MT#5879 Add sent marker into invoices and country_name into contacts.
  * [041207b] MT#5879 Set invoices data column size to 16M.
  * [5a1a078] MT#5879 Remove country_name wrapper.
  * [1917f7e] MT#7867 Changes for invoice template per customer.

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Thu, 10 Jul 2014 15:33:26 +0200

ngcp-schema (3.2.0.0+0~mr3.4.0.0) unstable; urgency=low

  [ Gerhard Jungwirth ]
  * [21eae2b] MT#4369 custom messages virtualview for sql performance
  * [1fd77a8] MT#4369 select min(timestamp) on custom messages
  * [19ea671] MT#6195 fix voip_rewrite_rules relation set
  * [31dfb3d] MT#6559 remove usage of CLASS
  * [0857082] MT#3955 Add relation to cdr-billing_zones_history

  [ Irina Peshinskaya ]
  * [1421bf7] MT#5879 Commit relative to db-cshema commit hash 7246a8d414246d5b07f5957a195dc3c9ffd90272 "Add name column for template. Preparing for "fixed" template, where only position of rows and their amount can be modified. And resources, which may connect one template with some different css."
  * [e32fc96] MT#5879 Add sign that invoices shoul/shouldn't be sent to email.
  * [42e801f] MT#5879 Rename invoice template tables to s suffices.
  * [da4e8bd] MT#5879 Rename invoice template tables to s suffices.
  * [d598340] MT#5879 Source_account_id relation for accounting.cdr.

  [ Andreas Granig ]
  * [a9f08ae] MT#6461 Add reseller_brandings relations.
  * [4c06c4d] MT#6693 Add subscriber profile tables.
  * [2148479] MT#6693 Add subscriber profile sets.
  * [21f257e] MT#6693 Rename profile catalog to profile set.
  * [d5932b5] MT#6693 Move pbx group features to subscriber.
  * [9546169] MT#6789 Add email template schema.
  * [7205c14] MT#6789 Add email relation to contracts.
  * [f6487e6] MT#6789 Add relations for email notification.
  * [03d38e2] MT#6789 Fix relation for passreset email tmpl
  * [1ed7a4e] MT#3943 Add cdr relation to subscribers.
  * [5482b46] MT#7039 Add provisioning relations to location
  * [a1acf5d] MT#6827 Deprecate linerange_num field.

  [ Michael Prokop ]
  * [8d0960c] MT#6511 Bump Standards-Version to 3.9.5

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Mon, 26 May 2014 15:55:55 +0200

ngcp-schema (3.1.0.0+0~mr3.3.0.0) unstable; urgency=low

  [ Irina Peshinskaya ]
  * [d0de41e] MT#5879 Add relation between accounting.cdr to billing.billing_zones_history to get calls list
  * [aa62130] MT#5879 Added schema class for invoice_template to make possible save/use customer templates
  * [8ac4c7b] MT#5879 Fix previousely broken ngcp-schema

 -- Alexander Lutay <alutay@sipwise.com>  Fri, 21 Mar 2014 14:24:46 +0100

ngcp-schema (3.000+0~mr3.3) unstable; urgency=low

  [ Andreas Granig ]
  * [1a5bc5b] MT#5083 Fix fax_journal timestamp format

  [ Sipwise Jenkins Builder ]

 -- Sipwise Jenkins Builder <jenkins@sipwise.com>  Sat, 01 Feb 2014 19:53:05 +0100

ngcp-schema (3.000) unstable; urgency=low

  [ Lars Dieckow ]
  * [9329d86] MT#3927 certificate management

  [ Gerhard Jungwirth ]
  * [90d6b22] MT#3917 Inflate db timestamps to localtime

  [ Andreas Granig ]
  * [11e1e4a] MT#5101 Add is_primary flag for voip_dbaliases.
  * [876f2f7] MT#5349 Add dom relation from billing to prov.
  * [15b23fa] MT#5199 Store client cert in DB.

 -- Alexander Lutay <alutay@sipwise.com>  Mon, 27 Jan 2014 11:41:58 +0100

ngcp-schema (2.008) unstable; urgency=low

  [ Andreas Granig ]
  * [8e681db] MT#4025 Add contract_default flag to sound sets

 -- Andrew Pogrebennyk <apogrebennyk@sipwise.com>  Wed, 13 Nov 2013 14:47:47 +0100

ngcp-schema (2.007) unstable; urgency=low

  [ Andreas Granig ]
  * [17229b3] Add label column to voip_subscribers table.
  * [056ee6e] Deflate voicemail origtime column.
  * [2d1ceac] Add relation from provisioning sub to billing sub.
  * [f2430c7] MT#3977 Add schema to support PBX multiline config
  * [3c8a66d] MT#3977 Fix wrong relationship name.
  * [04e4447] MT#3977 Add PBX firmware version column.
  * [fac4678] MT#4025 Link contract and sound set tables.
  * [536250c] MT#4145 Change contacts.postcode to varchar.
  * [aea75bc] MT#3997 Add via_route column to voip_peer_hosts.
  * [d379e10] MT#4007 Add voip_pbx_autoattendants schema.
  * [e312c53] MT#4007 Add destination to autoattendant.
  * [75b9b92] MT#4007 Fix autoattendant relation for subscriber.
  * [b5362d6] MT#4225 Align new schemas to optimized approach.
  * [d3eee10] MT#3971 Add max_subscribers column to contracts.
  * [7b86c0f] MT#4685 Don't tie firmware to profile.

  [ Gerhard Jungwirth ]
  * [506817e] Only load Helper::ResultSet::SetOperations instead of all
  * [37a15cd] MT#4135 Only load certain Helper::ResultSet::*

  [ Lars Dieckow ]
  * [7325ac6] MT#4225 remove nugatory modules to save memory
  * [95cdd13] MT#4123 warning gone in newer version

  [ Michael Prokop ]
  * [2f4b037] MT#4419 Web server should be restarted on ngcp-schema package upgrades

 -- Andreas Granig <agranig@sipwise.com>  Tue, 29 Oct 2013 11:52:43 +0100

ngcp-schema (2.006) unstable; urgency=low

  * [73bd5d8] Add PBX autoprovisioning tables.
  * [049c0e5] Add PBX device sync fields.
  * [1c92e2c] Add PBX device security flags.

 -- Andreas Granig <agranig@sipwise.com>  Fri, 20 Sep 2013 11:46:24 +0200

ngcp-schema (2.005) unstable; urgency=low

  * Add pbx group table and pbx related fields/rels

  * Sync voip_pbx_groups to underlying database changes

  * Align to new product class enum

  * Fix relation to voip_rewrite_rule_sets

  * Move test.conf to a share directory to make it accessible from schema consumers

 -- Gerhard Jungwirth <gjungwirth@sipwise.com>  Wed, 11 Sep 2013 13:34:47 +0200

ngcp-schema (2.004) unstable; urgency=low

  * deflate messages timestamp to micro precision

 -- Lars Dieckow <ldieckow@sipwise.com>  Tue, 06 Aug 2013 15:55:14 +0200

ngcp-schema (2.003) unstable; urgency=low

  * relicense GPL3+

 -- Lars Dieckow <ldieckow@sipwise.com>  Fri, 02 Aug 2013 18:21:41 +0200

ngcp-schema (2.002) unstable; urgency=low

  * inflation of epoch stored as string

 -- Lars Dieckow <ldieckow@sipwise.com>  Wed, 24 Jul 2013 15:50:46 +0200

ngcp-schema (2.001) unstable; urgency=low

  * load DBIx::Class::Helper::ResultSet for SetOperations/union method

  * inflation of epoch with milliseconds data type

 -- Lars Dieckow <ldieckow@sipwise.com>  Fri, 19 Jul 2013 16:15:10 +0200

ngcp-schema (2.000) unstable; urgency=low

  * result classes in a single namespace (see "INCOMPATIBILITIES" in NGCP::Schema)

  * unify access to tables through configuration item `ngcp_connect_info`

 -- Lars Dieckow <ldieckow@sipwise.com>  Mon, 15 Jul 2013 16:13:34 +0200

ngcp-schema (1.003) unstable; urgency=low

  * add component for JSON serialisation hooks

 -- Lars Dieckow <ldieckow@sipwise.com>  Thu, 27 Jun 2013 13:27:57 +0200

ngcp-schema (1.002) unstable; urgency=low

  * Initial release.

 -- Michael Prokop <mprokop@sipwise.com>  Mon, 17 Jun 2013 14:43:47 +0200
